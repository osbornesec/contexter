# =============================================================================
# Contexter Environment Configuration Sample
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit the actual .env file to version control

# =============================================================================
# Required API Keys and Credentials
# =============================================================================

# BrightData Proxy Service (Required)
# Sign up at https://brightdata.com/ for residential proxy access
BRIGHTDATA_CUSTOMER_ID=your_customer_id_here
BRIGHTDATA_PASSWORD=your_password_here

# Voyage AI Embeddings API (Required for RAG system)
# Get API key from https://www.voyageai.com/
VOYAGE_API_KEY=your_voyage_api_key_here

# Context7 API (Optional - for extended documentation access)
# Contact Context7 team for API access
CONTEXT7_API_KEY=your_context7_api_key_here
CONTEXT7_BASE_URL=https://api.context7.com/v1

# =============================================================================
# Vector Database Configuration
# =============================================================================

# Qdrant Vector Database
# Local installation: http://localhost:6333
# Cloud service: https://cloud.qdrant.io/
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your_qdrant_api_key_here
QDRANT_COLLECTION_NAME=contexter_docs

# Alternative: if using Qdrant Cloud
# QDRANT_URL=https://your-cluster.qdrant.io
# QDRANT_API_KEY=your_qdrant_cloud_api_key

# =============================================================================
# Application Configuration
# =============================================================================

# Environment (development, staging, production)
CONTEXTER_ENV=development

# Logging configuration
CONTEXTER_LOG_LEVEL=INFO
CONTEXTER_LOG_FORMAT=json
CONTEXTER_LOG_FILE=contexter.log

# Storage paths
CONTEXTER_CONFIG_PATH=~/.contexter/config.yaml
CONTEXTER_STORAGE_PATH=~/.contexter/downloads
CONTEXTER_CACHE_PATH=~/.contexter/cache
CONTEXTER_EMBEDDINGS_CACHE_PATH=~/.contexter/embeddings

# =============================================================================
# Performance and Rate Limiting
# =============================================================================

# Download engine settings
MAX_CONCURRENT_DOWNLOADS=10
DOWNLOAD_TIMEOUT_SECONDS=30
MAX_RETRY_ATTEMPTS=3

# Proxy settings
PROXY_HEALTH_CHECK_INTERVAL=60
PROXY_MAX_RETRIES=5
PROXY_ROTATION_THRESHOLD=10

# RAG system settings
EMBEDDING_BATCH_SIZE=100
VECTOR_STORE_BATCH_SIZE=1000
SEARCH_RESULTS_LIMIT=50

# Rate limiting
VOYAGE_API_RATE_LIMIT=100
CONTEXT7_API_RATE_LIMIT=1000

# =============================================================================
# Security and Authentication
# =============================================================================

# API Security (if enabling web API)
API_SECRET_KEY=your_secret_key_here_minimum_32_characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS settings (if using web interface)
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# Database Configuration (for caching and metadata)
# =============================================================================

# SQLite cache database
CACHE_DATABASE_URL=sqlite+aiosqlite:///~/.contexter/cache.db
CACHE_EXPIRATION_HOURS=168  # 1 week

# =============================================================================
# Monitoring and Observability
# =============================================================================

# Metrics and monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_PORT=8080

# OpenTelemetry (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=contexter
OTEL_RESOURCE_ATTRIBUTES=service.version=1.0.0

# Sentry error tracking (optional)
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# =============================================================================
# Development and Testing
# =============================================================================

# Testing configuration
TEST_INTEGRATION_ENABLED=false
TEST_PERFORMANCE_ENABLED=false
TEST_PROXY_ENABLED=false

# Debug settings
DEBUG_MODE=false
ENABLE_DEBUG_LOGS=false
PROFILE_PERFORMANCE=false

# Mock services (for development without external dependencies)
USE_MOCK_VOYAGE_API=false
USE_MOCK_QDRANT=false
USE_MOCK_BRIGHTDATA=false

# =============================================================================
# Resource Limits
# =============================================================================

# Memory limits
MAX_MEMORY_USAGE_MB=8192  # 8GB for RAG operations
MAX_DOWNLOAD_MEMORY_MB=512
MAX_EMBEDDING_CACHE_SIZE_MB=1024

# Storage limits
MAX_STORAGE_SIZE_GB=50
MAX_CACHE_SIZE_GB=10
CLEANUP_OLD_FILES_DAYS=30

# Connection limits
MAX_HTTP_CONNECTIONS=100
HTTP_TIMEOUT_SECONDS=30
KEEPALIVE_TIMEOUT_SECONDS=5

# =============================================================================
# Feature Flags
# =============================================================================

# RAG system features
ENABLE_AUTO_INGESTION=true
ENABLE_SEMANTIC_SEARCH=true
ENABLE_HYBRID_SEARCH=true
ENABLE_SEARCH_ANALYTICS=false

# Download features
ENABLE_SMART_DEDUPLICATION=true
ENABLE_COMPRESSION=true
ENABLE_PARALLEL_CONTEXTS=true

# API features
ENABLE_WEB_API=false
ENABLE_SEARCH_API=false
ENABLE_ADMIN_API=false

# =============================================================================
# Advanced Configuration
# =============================================================================

# Embedding model configuration
EMBEDDING_MODEL=voyage-code-3
EMBEDDING_DIMENSIONS=2048
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Search configuration
SEMANTIC_SEARCH_WEIGHT=0.7
KEYWORD_SEARCH_WEIGHT=0.3
MIN_SIMILARITY_THRESHOLD=0.5

# Retry configuration
EXPONENTIAL_BACKOFF_BASE=2
EXPONENTIAL_BACKOFF_MAX_DELAY=60
JITTER_ENABLED=true

# =============================================================================
# Cloud Provider Specific Settings
# =============================================================================

# AWS (if using AWS services)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_aws_access_key
AWS_SECRET_ACCESS_KEY=your_aws_secret_key

# Google Cloud (if using GCP services)
GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json
GCP_PROJECT_ID=your_project_id

# Azure (if using Azure services)
AZURE_SUBSCRIPTION_ID=your_subscription_id
AZURE_CLIENT_ID=your_client_id
AZURE_CLIENT_SECRET=your_client_secret
AZURE_TENANT_ID=your_tenant_id

# =============================================================================
# Notification and Alerting (Optional)
# =============================================================================

# Email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your_email@gmail.com
SMTP_PASSWORD=your_app_password
NOTIFICATION_EMAIL=admin@yourcompany.com

# Slack notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# Discord notifications
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR_WEBHOOK

# =============================================================================
# Usage Notes
# =============================================================================

# 1. BRIGHTDATA_CUSTOMER_ID and BRIGHTDATA_PASSWORD are required for proxy functionality
# 2. VOYAGE_API_KEY is required for embedding generation in the RAG system
# 3. QDRANT_URL must point to a running Qdrant instance (local or cloud)
# 4. All file paths support ~ for home directory expansion
# 5. Boolean values should be: true/false (lowercase)
# 6. Memory values are in MB, storage values are in GB
# 7. Rate limits are requests per minute unless specified otherwise
# 8. For production, ensure all security-related variables are properly set
# 9. Mock services should only be used for development and testing
# 10. Cloud provider credentials are only needed if using specific cloud services